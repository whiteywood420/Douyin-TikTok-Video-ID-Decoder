<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ÊäñÈü≥/TikTok ËßÜÈ¢ëIDÂú®Á∫øËß£ÊûêÂ∑•ÂÖ∑ - Douyin/TikTok Video ID Decoder">
    <meta name="keywords" content="ÊäñÈü≥,TikTok,ËßÜÈ¢ëID,Ëß£Êûê,Decoder,aweme_id">
    <meta name="author" content="Evil0ctal">
    <title>ÊäñÈü≥/TikTok ËßÜÈ¢ëIDËß£ÊûêÂô® | Douyin/TikTok Video ID Decoder</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --secondary-color: #7c3aed;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #0f172a;
                --bg-secondary: #1e293b;
                --text-primary: #f1f5f9;
                --text-secondary: #94a3b8;
                --border-color: #334155;
            }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
            color: var(--text-primary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .header .subtitle {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .main-card {
            background: var(--bg-primary);
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            margin-bottom: 2rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .input-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            font-size: 1rem;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            background: var(--bg-secondary);
            color: var(--text-primary);
            resize: vertical;
            transition: border-color 0.3s;
        }

        .input-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .button-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--border-color);
        }

        .results {
            margin-top: 2rem;
        }

        .result-item {
            background: var(--bg-secondary);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-color);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        .result-id {
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .result-field {
            padding: 0.75rem;
            background: var(--bg-primary);
            border-radius: 0.375rem;
        }

        .result-field-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
            font-weight: 600;
        }

        .result-field-value {
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 0.95rem;
            color: var(--text-primary);
            word-break: break-all;
        }

        .bit-structure {
            margin-top: 1rem;
            padding: 1rem;
            background: var(--bg-primary);
            border-radius: 0.375rem;
            overflow-x: auto;
        }

        .bit-row {
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 0.85rem;
            margin: 0.25rem 0;
            white-space: nowrap;
        }

        .bit-label {
            color: var(--text-secondary);
            font-weight: 600;
        }

        .high-bits {
            color: var(--primary-color);
        }

        .low-bits {
            color: var(--secondary-color);
        }

        .info-section {
            background: var(--bg-primary);
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            margin-bottom: 2rem;
        }

        .info-section h2 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .info-section ul {
            list-style: none;
            padding-left: 0;
        }

        .info-section li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .info-section li:before {
            content: "‚ñπ";
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
        }

        .footer {
            text-align: center;
            color: white;
            padding: 2rem 0;
            opacity: 0.9;
        }

        .footer a {
            color: white;
            text-decoration: none;
            font-weight: 600;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-success {
            background: #dcfce7;
            color: #166534;
        }

        .badge-info {
            background: #dbeafe;
            color: #1e40af;
        }

        .example-ids {
            margin-top: 0.5rem;
            padding: 0.75rem;
            background: var(--bg-secondary);
            border-radius: 0.375rem;
            font-size: 0.9rem;
        }

        .example-ids strong {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .example-ids code {
            display: block;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            color: var(--text-secondary);
            margin: 0.25rem 0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.75rem;
            }

            .main-card {
                padding: 1.5rem;
            }

            .result-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
        }

        .loading.active {
            display: block;
        }

        .error-message {
            background: #fef2f2;
            color: #991b1b;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--danger-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üé¨ ÊäñÈü≥/TikTok ËßÜÈ¢ëIDËß£ÊûêÂô®</h1>
            <p>Douyin/TikTok Video ID Decoder</p>
            <p class="subtitle">Âü∫‰∫é Snowflake È£éÊ†ºÁÆóÊ≥ï | Powered by Snowflake-style Algorithm</p>
        </div>

        <!-- Main Input Card -->
        <div class="main-card">
            <div class="input-group">
                <label for="idInput">
                    ËßÜÈ¢ëIDËæìÂÖ• | Video ID Input
                    <span class="badge badge-info">ÊîØÊåÅÊâπÈáè | Batch Supported</span>
                </label>
                <textarea
                    id="idInput"
                    rows="5"
                    placeholder="ËæìÂÖ•‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËßÜÈ¢ëIDÔºåÊØèË°å‰∏Ä‰∏™ | Enter one or more video IDs, one per line&#10;&#10;Á§∫‰æã | Example:&#10;7559684939684400414&#10;7153549929326120227&#10;7266740902494833931"
                ></textarea>

                <div class="example-ids">
                    <strong>Á§∫‰æãÊï∞ÊçÆ | Example IDs:</strong>
                    <code>ÊäñÈü≥ | Douyin: 7153549929326120227</code>
                    <code>TikTok: 7559684939684400414</code>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="decodeIds()">
                    üîç Ëß£Êûê | Decode
                </button>
                <button class="btn btn-secondary" onclick="clearResults()">
                    üóëÔ∏è Ê∏ÖÁ©∫ | Clear
                </button>
                <button class="btn btn-secondary" onclick="loadExamples()">
                    üìù Âä†ËΩΩÁ§∫‰æã | Load Examples
                </button>
            </div>

            <div class="loading" id="loading">
                <p>Ëß£Êûê‰∏≠... | Decoding...</p>
            </div>

            <div id="results" class="results"></div>
        </div>

        <!-- Info Section -->
        <div class="info-section">
            <h2>üìñ ‰ΩøÁî®ËØ¥Êòé | Instructions</h2>
            <ul>
                <li><strong>IDÁªìÊûÑ:</strong> 64‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ÔºåÈ´ò32‰Ωç‰∏∫UnixÊó∂Èó¥Êà≥ÔºàÁßíÁ∫ßÔºâÔºå‰Ωé32‰Ωç‰∏∫ÂîØ‰∏ÄÊÄßÊ†áËØÜ</li>
                <li><strong>ID Structure:</strong> 64-bit unsigned integer, high 32 bits = Unix timestamp (seconds), low 32 bits = uniqueness bits</li>
                <li><strong>ÂáÜÁ°ÆÊÄß:</strong> Ëß£Á†ÅÊó∂Èó¥‰∏éÂÆûÈôÖÂèëÂ∏ÉÊó∂Èó¥ÂèØËÉΩÊúâ5-30ÁßíËØØÂ∑ÆÔºàÂ±û‰∫éÊ≠£Â∏∏ËåÉÂõ¥Ôºâ</li>
                <li><strong>Accuracy:</strong> Decoded time may differ from actual publish time by 5-30 seconds (normal range)</li>
                <li><strong>Â∫îÁî®Âú∫ÊôØ:</strong> Êó∂Èó¥ËåÉÂõ¥Êü•ËØ¢„ÄÅÊó∂Â∫èÂàÜÊûê„ÄÅÊï∞ÊçÆÂàÜÁâá„ÄÅÊâπÊ¨°ËØÜÂà´</li>
                <li><strong>Use Cases:</strong> Time range queries, time series analysis, data sharding, batch identification</li>
            </ul>
        </div>

        <div class="info-section">
            <h2>üîß ÊäÄÊúØÁªÜËäÇ | Technical Details</h2>
            <ul>
                <li><strong>È´ò32‰Ωç | High 32 bits:</strong> UnixÊó∂Èó¥Êà≥ÔºàÁßíÁ∫ßÔºâ| Unix timestamp (second-level)</li>
                <li><strong>‰Ωé32‰Ωç | Low 32 bits:</strong> ÂîØ‰∏ÄÊÄß‰ΩçÔºàÂàÜÁâáID + Â∫èÂàóÂè∑Ôºâ| Uniqueness bits (Shard ID + Sequence)</li>
                <li><strong>ÁÆóÊ≥ïÈ™åËØÅ:</strong> Â∑≤‰ΩøÁî®73Êù°ÁúüÂÆûÊï∞ÊçÆÈ™åËØÅÔºåÂπ≥ÂùáËØØÂ∑Æ14.3Áßí</li>
                <li><strong>Algorithm Validation:</strong> Validated with 73 real samples, average error 14.3 seconds</li>
                <li><strong>È°πÁõÆÂú∞ÂùÄ:</strong> <a href="https://github.com/Evil0ctal/Douyin-TikTok-Video-ID-Decoder" target="_blank">GitHub Repository</a></li>
            </ul>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Made with ‚ù§Ô∏è by <a href="https://github.com/evil0ctal" target="_blank">Evil0ctal</a></p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">
                <a href="https://github.com/Evil0ctal/Douyin-TikTok-Video-ID-Decoder" target="_blank">‚≠ê GitHub</a> |
                <a href="https://github.com/Evil0ctal/Douyin-TikTok-Video-ID-Decoder/blob/main/README.md" target="_blank">üìñ ÊñáÊ°£</a>
            </p>
        </div>
    </div>

    <script>
        // Ê†∏ÂøÉËß£Á†ÅÂáΩÊï∞ | Core decode function
        function decodeAwemeId(idStr) {
            try {
                // Â∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫BigIntÔºàÊîØÊåÅ64‰ΩçÊï¥Êï∞Ôºâ| Convert string to BigInt (supports 64-bit integers)
                const n = BigInt(idStr);

                // ÊèêÂèñÈ´ò32‰ΩçÔºàÊó∂Èó¥Êà≥Ôºâ| Extract high 32 bits (timestamp)
                const tsSec = Number(n >> 32n);

                // ÊèêÂèñ‰Ωé32‰ΩçÔºàÂîØ‰∏ÄÊÄß‰ΩçÔºâ| Extract low 32 bits (uniqueness bits)
                const low32 = Number(n & 0xFFFFFFFFn);

                // ËΩ¨Êç¢‰∏∫Êó•ÊúüÊó∂Èó¥ | Convert to datetime
                const dtUtc = new Date(tsSec * 1000);

                // ËΩ¨Êç¢‰∏∫Êú¨Âú∞Êó∂Èó¥ | Convert to local time
                const dtLocal = dtUtc.toLocaleString('zh-CN', { timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone });

                // ÂàÜÊûê‰Ωé32‰ΩçÁªìÊûÑÔºà16+16ÂàíÂàÜÔºâ| Analyze low 32-bit structure (16+16 division)
                const shardId = (low32 >> 16) & 0xFFFF;
                const sequence = low32 & 0xFFFF;

                // 64‰Ωç‰∫åËøõÂà∂Ë°®Á§∫ | 64-bit binary representation
                const bin64 = n.toString(2).padStart(64, '0');
                const high32Bin = bin64.substring(0, 32);
                const low32Bin = bin64.substring(32);

                return {
                    success: true,
                    id: idStr,
                    timestampSec: tsSec,
                    datetimeUtc: dtUtc.toISOString(),
                    datetimeLocal: dtLocal,
                    low32Dec: low32,
                    low32Hex: '0x' + low32.toString(16).toUpperCase(),
                    low32Bin: '0b' + low32.toString(2).padStart(32, '0'),
                    shardId: shardId,
                    shardIdHex: '0x' + shardId.toString(16).toUpperCase(),
                    sequence: sequence,
                    sequenceHex: '0x' + sequence.toString(16).toUpperCase(),
                    high32Bin: high32Bin,
                    low32BinFull: low32Bin
                };
            } catch (error) {
                return {
                    success: false,
                    id: idStr,
                    error: error.message
                };
            }
        }

        // Ê†ºÂºèÂåñ‰∫åËøõÂà∂ÊòæÁ§∫ÔºàÊØè8‰Ωç‰∏ÄÁªÑÔºâ| Format binary display (groups of 8 bits)
        function formatBinary(binStr) {
            let result = '';
            for (let i = 0; i < binStr.length; i += 8) {
                result += binStr.substring(i, i + 8) + ' ';
            }
            return result.trim();
        }

        // ÂàõÂª∫ÁªìÊûúHTML | Create result HTML
        function createResultHtml(result) {
            if (!result.success) {
                return `
                    <div class="error-message">
                        <strong>ÈîôËØØ | Error:</strong> Êó†Ê≥ïËß£ÊûêID "${result.id}"<br>
                        ${result.error}
                    </div>
                `;
            }

            return `
                <div class="result-item">
                    <div class="result-header">
                        <div class="result-id">${result.id}</div>
                        <span class="badge badge-success">‚úì Ëß£ÊûêÊàêÂäü | Decoded</span>
                    </div>

                    <div class="result-grid">
                        <div class="result-field">
                            <div class="result-field-label">‚è∞ UTCÊó∂Èó¥ | UTC Time</div>
                            <div class="result-field-value">${result.datetimeUtc}</div>
                        </div>
                        <div class="result-field">
                            <div class="result-field-label">üåç Êú¨Âú∞Êó∂Èó¥ | Local Time</div>
                            <div class="result-field-value">${result.datetimeLocal}</div>
                        </div>
                        <div class="result-field">
                            <div class="result-field-label">üìÖ Êó∂Èó¥Êà≥ | Timestamp (Áßí)</div>
                            <div class="result-field-value">${result.timestampSec}</div>
                        </div>
                        <div class="result-field">
                            <div class="result-field-label">üî¢ ÂàÜÁâáID | Shard ID</div>
                            <div class="result-field-value">${result.shardId} (${result.shardIdHex})</div>
                        </div>
                        <div class="result-field">
                            <div class="result-field-label">üìä Â∫èÂàóÂè∑ | Sequence</div>
                            <div class="result-field-value">${result.sequence} (${result.sequenceHex})</div>
                        </div>
                        <div class="result-field">
                            <div class="result-field-label">üíæ ‰Ωé32‰Ωç | Low 32 bits</div>
                            <div class="result-field-value">${result.low32Dec} (${result.low32Hex})</div>
                        </div>
                    </div>

                    <div class="bit-structure">
                        <div class="bit-row">
                            <span class="bit-label">64‰ΩçÁªìÊûÑ | 64-bit Structure:</span>
                        </div>
                        <div class="bit-row">
                            <span class="bit-label">È´ò32‰Ωç | High:</span> <span class="high-bits">${formatBinary(result.high32Bin)}</span>
                        </div>
                        <div class="bit-row">
                            <span class="bit-label">‰Ωé32‰Ωç | Low: </span> <span class="low-bits">${formatBinary(result.low32BinFull)}</span>
                        </div>
                        <div class="bit-row">
                            <span class="bit-label">Ëß£ËØª | Info:</span>
                            <span class="high-bits">Êó∂Èó¥Êà≥(Timestamp)</span> +
                            <span class="low-bits">ÂàÜÁâá(Shard)+Â∫èÂàó(Seq)</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // Ëß£ÊûêID | Decode IDs
        function decodeIds() {
            const input = document.getElementById('idInput').value.trim();
            const resultsDiv = document.getElementById('results');
            const loadingDiv = document.getElementById('loading');

            if (!input) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ËØ∑ËæìÂÖ•Ëá≥Â∞ë‰∏Ä‰∏™ËßÜÈ¢ëID | Please enter at least one video ID
                    </div>
                `;
                return;
            }

            // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ | Show loading state
            loadingDiv.classList.add('active');
            resultsDiv.innerHTML = '';

            // Âª∂ËøüÂ§ÑÁêÜ‰ª•ÊòæÁ§∫Âä†ËΩΩÂä®Áîª | Delay processing to show loading animation
            setTimeout(() => {
                const ids = input.split('\n')
                    .map(id => id.trim())
                    .filter(id => id.length > 0);

                let html = '';

                ids.forEach(id => {
                    const result = decodeAwemeId(id);
                    html += createResultHtml(result);
                });

                resultsDiv.innerHTML = html;
                loadingDiv.classList.remove('active');
            }, 100);
        }

        // Ê∏ÖÁ©∫ÁªìÊûú | Clear results
        function clearResults() {
            document.getElementById('idInput').value = '';
            document.getElementById('results').innerHTML = '';
        }

        // Âä†ËΩΩÁ§∫‰æãÊï∞ÊçÆ | Load example data
        function loadExamples() {
            const examples = [
                '7559684939684400414',
                '7153549929326120227',
                '7266740902494833931',
                '7559661864628538654',
                '7196618597496524067'
            ];
            document.getElementById('idInput').value = examples.join('\n');
        }

        // ÊîØÊåÅÂõûËΩ¶ÈîÆËß£Êûê | Support Enter key to decode
        document.getElementById('idInput').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                decodeIds();
            }
        });

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÁöÑÂàùÂßãÂåñ | Initialize after page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ÊäñÈü≥/TikTok ËßÜÈ¢ëIDËß£ÊûêÂô®Â∑≤Âä†ËΩΩ | Douyin/TikTok Video ID Decoder loaded');
            console.log('‰ΩúËÄÖ | Author: Evil0ctal');
            console.log('GitHub: https://github.com/Evil0ctal/Douyin-TikTok-Video-ID-Decoder');
        });
    </script>
</body>
</html>
